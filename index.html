<script src="https://cjrtnc.leaningtech.com/2.3/loader.js"></script>
<script>
  window.cjLocation = "https://cjrtnc.leaningtech.com/2.3/";

  window.addEventListener('load', () => {
    const runBtn = document.getElementById('run');
    const status = document.getElementById('status');

    if (typeof window.cheerpjInit === 'function') {
      runBtn.disabled = false;
      status.textContent = 'Ready.';
    } else {
      status.textContent = '❌ Failed to load runtime.';
    }
  });

  document.getElementById('run').addEventListener('click', async () => {
    const status = document.getElementById('status');
    try {
      status.textContent = 'Initializing…';
      await cheerpjInit();
      await cheerpjCreateDisplay(800, 700);
      status.textContent = 'Starting…';
      await cheerpjRunMain("Game", "./ChessGuiRealReal-1.0.0.jar");
      status.textContent = 'Running!';
    } catch (e) {
      console.error(e);
      status.textContent = '❌ Failed to launch game: ' + e;
    }
  });
</script>
